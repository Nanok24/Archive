{"version":3,"file":"src_app_pages_review_review_module_ts-es2015.js","mappings":"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","sources":["./src/app/pages/review/review-routing.module.ts","./src/app/pages/review/review.module.ts","./src/app/pages/review/review.page.ts","./src/app/pages/review/review.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReviewPage } from './review.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReviewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReviewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReviewPageRoutingModule } from './review-routing.module';\n\nimport { ReviewPage } from './review.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReviewPageRoutingModule\n  ],\n  declarations: [ReviewPage]\n})\nexport class ReviewPageModule {}\n","import { Component } from \"@angular/core\";\nimport { AngularFirestore } from \"@angular/fire/firestore\";\nimport { User } from \"../../shared/auth\";\n\nexport interface Review {\n  id: string;\n  userId: string;\n  booksID: string;\n  rating: number;\n  bookAuthors: string;\n  text: string;\n  title: string;\n  cover: string;\n}\n\n@Component({\n  selector: \"app-review\",\n  templateUrl: \"./review.page.html\",\n  styleUrls: [\"./review.page.scss\"],\n})\nexport class ReviewPage {\n  public reviews: Review[] = [];\n  public userId: string;\n  public displayName: string;\n\n  constructor(private angularFirestore: AngularFirestore) {}\n\n  ionViewWillEnter() {\n    const user = JSON.parse(localStorage.getItem(\"user\")) as User;\n    if (user) {\n      this.userId = user.uid;\n      this.displayName = localStorage.getItem(\"currentUserDisplayName\");\n\n      this.angularFirestore\n        .collection(\"stars\")\n        .snapshotChanges()\n        .subscribe((reviews) => {\n          this.reviews = reviews\n            .map((t) => ({\n              id: t.payload.doc.id,\n              ...(t.payload.doc.data() as Review),\n            }))\n            .filter((t) => t.userId === this.userId);\n        });\n    }\n  }\n\n  public delete(): void {\n    this.angularFirestore\n      .collection(\"stars\")\n      .snapshotChanges()\n      .subscribe((reviews) => {\n        this.reviews = reviews.map((t) => ({\n          id: t.payload.doc.id,\n          ...(t.payload.doc.data() as Review),\n        }));\n      });\n  }\n\n  deleteReview(reviewId: string): Promise<void> {\n    return this.angularFirestore.doc(`stars/${reviewId}`).delete();\n  }\n}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-title class=\\\"title-text\\\">Books Review</ion-title>\\n    <ion-icon\\n      src=\\\"./assets/icon/bookLogo.svg\\\"\\n      class=\\\"logo-large\\\"\\n      slot=\\\"end\\\"\\n    ></ion-icon>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"ion-align-items-center ion-justify-content-center\\\">\\n    <ion-card *ngIf=\\\"!reviews.length\\\">\\n      <ion-card-content>\\n        <ion-item>\\n          <ion-label><span>Collection is empty</span></ion-label>\\n        </ion-item>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <!-- tot ce e in ion-col e template-ul pentru afisarea recenziilor -->\\n      <ion-col\\n        size=\\\"12\\\"\\n        size-md=\\\"6\\\"\\n        size-lg=\\\"4\\\"\\n        style=\\\"width: 390px\\\"\\n        *ngFor=\\\"let review of reviews\\\"\\n      >\\n        <ion-card>\\n          <ion-card-header>\\n            <div class=\\\"ion-float-right ion-no-padding\\\">\\n              <ion-button\\n                (click)=\\\"deleteReview(review.id)\\\"\\n                fill=\\\"clear\\\"\\n                slot=\\\"end\\\"\\n              >\\n                <ion-icon\\n                  slot=\\\"icon-only\\\"\\n                  name=\\\"trash-sharp\\\"\\n                  style=\\\"color: rgba(var(--ion-color-danger-rgb), 0.85)\\\"\\n                >\\n                </ion-icon>\\n              </ion-button>\\n            </div>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-label class=\\\"card-title ion-text-wrap\\\"\\n                >{{review.title}}</ion-label\\n              >\\n            </ion-item>\\n            <ion-card-subtitle>{{review.bookAuthors}}</ion-card-subtitle>\\n          </ion-card-header>\\n          <ion-card-content\\n            class=\\\"\\n              ion-text-center ion-justify-content-between ion-align-items-center\\n            \\\"\\n          >\\n            <div\\n              style=\\\"width: 100px; height: 250px\\\"\\n              class=\\\"ion-float-left ion-align-items-center\\\"\\n            >\\n              <ion-img\\n                class=\\\"ion-align-items-center\\\"\\n                src=\\\"{{review.cover}}\\\"\\n                style=\\\"\\n                  width: 100px;\\n                  height: 250px;\\n                  margin-bottom: 20%;\\n                  display: inline-block;\\n                \\\"\\n              ></ion-img>\\n            </div>\\n            <ion-list lines=\\\"none\\\">\\n              <ion-item class=\\\"review-text\\\"> {{review.text}} </ion-item>\\n              <ion-item>\\n                <ion-label> Rating: {{ review.rating }} / 5</ion-label>\\n              </ion-item>\\n            </ion-list>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"search-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n    <ion-fab-list side=\\\"top\\\">\\n      <ion-fab-button class=\\\"search-list\\\" [routerLink]=\\\"['../../book-search']\\\">\\n        <ion-icon name=\\\"book\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-button\\n        class=\\\"search-list\\\"\\n        [routerLink]=\\\"['../../review-search']\\\"\\n      >\\n        <ion-icon name=\\\"star\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-button class=\\\"search-list\\\" [routerLink]=\\\"['../../user-search']\\\">\\n        <ion-icon name=\\\"person\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ion-fab-list>\\n  </ion-fab>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}